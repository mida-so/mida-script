let postIntegrationStatus=(t,e)=>{try{_midaAjax("/integration/status","POST",{service:t,data:e},()=>{})}catch(t){}};function executeIntegration(t={},e="mida_conversion"){let n=window.md_int_list[t.id];if(!n)return;0===Number(t.variant)&&(t.variant="Control");let a=Object.keys(n);if(a.length)for(let o=0;o<a.length;o++)try{let s=a[o],r=n[s];if(!r)continue;if("ga4"===s)if(r.mode&&2===Number(r.mode)){if(window[r.custom]=window[r.custom]||[],window.location.href.includes("universidadeuropea"))t.event=e,window[r.custom].push(t),postIntegrationStatus(s,t);else{function i(){window[r.custom].push(arguments)}i("event",e,t)}postIntegrationStatus(s,t)}else gtag("event",e,t),postIntegrationStatus(s,t);"gtm"===s&&(window.dataLayer=window.dataLayer||[],t.event=e,window.dataLayer.push(t),postIntegrationStatus(s,t)),"hubspot"===s&&(window._hsq.push(["trackEvent",{id:e+"_"+t.name+"_"+t.variant,value:null}]),postIntegrationStatus(s,null)),"mixpanel"===s&&(mixpanel.track(e,t),postIntegrationStatus(s,t)),"amplitude"===s&&(amplitude.track(e,t),postIntegrationStatus(s,t));let d={event:e,test_id:t.id,test_name:t.name,test_variant:t.variant,timestamp:t.timestamp,uuid:window._h_uuid};"segment"===s&&(r.mode&&1===Number(r.mode)?(analytics.track(e,t),postIntegrationStatus(s,t)):r.mode&&2===Number(r.mode)?analytics.identify(d):r.mode&&3===Number(r.mode)&&(analytics.track(e,t),analytics.identify(d),postIntegrationStatus(s,t))),"mc"===s&&(window.clarity("set",e,`${e}_${t.id}_${t.variant}`),postIntegrationStatus(s,`${e}_${t.id}_${t.variant}`)),"hotjar"===s&&(window.hj=window.hj||function(){(hj.q=hj.q||[]).push(arguments)},hj("event",`${e}_${t.id}`),hj("event",`${e}_${t.id}_${t.variant}`),postIntegrationStatus(s,e+`_${t.id}`))}catch(t){console.error(t)}}