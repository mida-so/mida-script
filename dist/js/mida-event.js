function urlMatch(t){let e=new RegExp("^"+t.replace(/\*/g,".*").replace(/\/+$/g,"").replace(/\?/g,"\\?").replace("//www.","//(www.)?")+"$"),n=window.location.protocol+"//"+window.location.hostname.replace(/^www./,"")+window.location.pathname,r=window.location.protocol+"//www."+window.location.hostname.replace(/^www./,"")+window.location.pathname,a=new URL(window.location.href),o=new URLSearchParams(a.search);o.delete("test-preview"),o.delete("test-variant"),a.search=o.toString();let i=a.toString();return e.test(n)||e.test(n.replace(/\/+$/,""))||e.test(r)||e.test(r.replace(/\/+$/,""))||e.test(i.replace(/\/+$/,""))||e.test(i.replace("//www.","//").replace(/\/+$/,""))}function mdEvtAttr(t){for(;t;){if(t.hasAttribute&&t.hasAttribute("mida-event"))return t.getAttribute("mida-event");t=t.parentElement}return null}function processEvent(t){let e=null;window.submittedList=[];try{if((e=JSON.parse(t))&&e.length)for(let t=0;t<e.length;t++){let n=e[t];try{let t=document.querySelectorAll(n.path_name);for(let e=0;e<t.length;e++){let r=t[e];("https://"===n.url||"https://"===n.url||!n.url||urlMatch(n.url))&&(1===Number(n.action_type)?r.addEventListener("click",function(){mida.track(n.event_name)}):2===Number(n.action_type)&&r.addEventListener("keyup",function(){window.submittedList.includes(n.event_name)||(mida.track(n.event_name),window.submittedList.push(n.event_name))}))}}catch(t){console.error(t)}}}catch(t){console.error(t)}}document.addEventListener("click",function(t){let e=mdEvtAttr(t.target);e&&""!==e.trim()&&void 0!==e&&window.mida.track(e)});